!function(t,e){for(var r in e)t[r]=e[r]}(exports,function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=614)}({14:function(t,e){t.exports=require("fs")},20:function(t,e){t.exports=require("http")},25:function(t,e){t.exports=require("querystring")},26:function(t,e){t.exports=require("https")},362:function(t,e,r){const o=r(14),n=r(40);function s(t){console.log("[dotenv][DEBUG] "+t)}const a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,i=/\\n/g,u=/\n|\r|\r\n/;function h(t,e){const r=Boolean(e&&e.debug),o={};return t.toString().split(u).forEach((function(t,e){const n=t.match(a);if(null!=n){const t=n[1];let e=n[2]||"";const r=e.length-1,s='"'===e[0]&&'"'===e[r];"'"===e[0]&&"'"===e[r]||s?(e=e.substring(1,r),s&&(e=e.replace(i,"\n"))):e=e.trim(),o[t]=e}else r&&s(`did not match key and value when parsing line ${e+1}: ${t}`)})),o}t.exports.config=function(t){let e=n.resolve(process.cwd(),".env"),r="utf8",a=!1;t&&(null!=t.path&&(e=t.path),null!=t.encoding&&(r=t.encoding),null!=t.debug&&(a=!0));try{const t=h(o.readFileSync(e,{encoding:r}),{debug:a});return Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(process.env,e)?a&&s(`"${e}" is already defined in \`process.env\` and will not be overwritten`):process.env[e]=t[e]})),{parsed:t}}catch(t){return{error:t}}},t.exports.parse=h},4:function(t,e){t.exports=require("crypto")},40:function(t,e){t.exports=require("path")},6:function(t,e){t.exports=require("url")},610:function(t,e,r){var o=r(4),n=r(616),s=r(20),a=r(26),i=r(6),u=r(25),h=r(611);e.OAuth=function(t,e,r,o,n,s,a,i,u){if(this._isEcho=!1,this._requestUrl=t,this._accessUrl=e,this._consumerKey=r,this._consumerSecret=this._encodeData(o),"RSA-SHA1"==a&&(this._privateKey=o),this._version=n,this._authorize_callback=void 0===s?"oob":s,"PLAINTEXT"!=a&&"HMAC-SHA1"!=a&&"RSA-SHA1"!=a)throw new Error("Un-supported signature method: "+a);this._signatureMethod=a,this._nonceSize=i||32,this._headers=u||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._clientOptions=this._defaultClientOptions={requestTokenHttpMethod:"POST",accessTokenHttpMethod:"POST",followRedirects:!0},this._oauthParameterSeperator=","},e.OAuthEcho=function(t,e,r,o,n,s,a,i){if(this._isEcho=!0,this._realm=t,this._verifyCredentials=e,this._consumerKey=r,this._consumerSecret=this._encodeData(o),"RSA-SHA1"==s&&(this._privateKey=o),this._version=n,"PLAINTEXT"!=s&&"HMAC-SHA1"!=s&&"RSA-SHA1"!=s)throw new Error("Un-supported signature method: "+s);this._signatureMethod=s,this._nonceSize=a||32,this._headers=i||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._oauthParameterSeperator=","},e.OAuthEcho.prototype=e.OAuth.prototype,e.OAuth.prototype._getTimestamp=function(){return Math.floor((new Date).getTime()/1e3)},e.OAuth.prototype._encodeData=function(t){return null==t||""==t?"":encodeURIComponent(t).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},e.OAuth.prototype._decodeData=function(t){return null!=t&&(t=t.replace(/\+/g," ")),decodeURIComponent(t)},e.OAuth.prototype._getSignature=function(t,e,r,o){var n=this._createSignatureBase(t,e,r);return this._createSignature(n,o)},e.OAuth.prototype._normalizeUrl=function(t){var e=i.parse(t,!0),r="";return e.port&&("http:"==e.protocol&&"80"!=e.port||"https:"==e.protocol&&"443"!=e.port)&&(r=":"+e.port),e.pathname&&""!=e.pathname||(e.pathname="/"),e.protocol+"//"+e.hostname+r+e.pathname},e.OAuth.prototype._isParameterNameAnOAuthParameter=function(t){var e=t.match("^oauth_");return!(!e||"oauth_"!==e[0])},e.OAuth.prototype._buildAuthorizationHeaders=function(t){var e="OAuth ";this._isEcho&&(e+='realm="'+this._realm+'",');for(var r=0;r<t.length;r++)this._isParameterNameAnOAuthParameter(t[r][0])&&(e+=this._encodeData(t[r][0])+'="'+this._encodeData(t[r][1])+'"'+this._oauthParameterSeperator);return e=e.substring(0,e.length-this._oauthParameterSeperator.length)},e.OAuth.prototype._makeArrayOfArgumentsHash=function(t){var e=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(Array.isArray(o))for(var n=0;n<o.length;n++)e[e.length]=[r,o[n]];else e[e.length]=[r,o]}return e},e.OAuth.prototype._sortRequestParams=function(t){return t.sort((function(t,e){return t[0]==e[0]?t[1]<e[1]?-1:1:t[0]<e[0]?-1:1})),t},e.OAuth.prototype._normaliseRequestParams=function(t){for(var e=this._makeArrayOfArgumentsHash(t),r=0;r<e.length;r++)e[r][0]=this._encodeData(e[r][0]),e[r][1]=this._encodeData(e[r][1]);e=this._sortRequestParams(e);for(t="",r=0;r<e.length;r++)t+=e[r][0],t+="=",t+=e[r][1],r<e.length-1&&(t+="&");return t},e.OAuth.prototype._createSignatureBase=function(t,e,r){return e=this._encodeData(this._normalizeUrl(e)),r=this._encodeData(r),t.toUpperCase()+"&"+e+"&"+r},e.OAuth.prototype._createSignature=function(t,e){if(void 0===e)e="";else e=this._encodeData(e);var r=this._consumerSecret+"&"+e,s="";return"PLAINTEXT"==this._signatureMethod?s=r:"RSA-SHA1"==this._signatureMethod?(r=this._privateKey||"",s=o.createSign("RSA-SHA1").update(t).sign(r,"base64")):s=o.Hmac?o.createHmac("sha1",r).update(t).digest("base64"):n.HMACSHA1(r,t),s},e.OAuth.prototype.NONCE_CHARS=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],e.OAuth.prototype._getNonce=function(t){for(var e,r=[],o=this.NONCE_CHARS,n=o.length,s=0;s<t;s++)e=Math.floor(Math.random()*n),r[s]=o[e];return r.join("")},e.OAuth.prototype._createClient=function(t,e,r,o,n,i){var u={host:e,port:t,path:o,method:r,headers:n};return(i?a:s).request(u)},e.OAuth.prototype._prepareParameters=function(t,e,r,o,n){var s,a={oauth_timestamp:this._getTimestamp(),oauth_nonce:this._getNonce(this._nonceSize),oauth_version:this._version,oauth_signature_method:this._signatureMethod,oauth_consumer_key:this._consumerKey};if(t&&(a.oauth_token=t),this._isEcho)s=this._getSignature("GET",this._verifyCredentials,this._normaliseRequestParams(a),e);else{if(n)for(var h in n)n.hasOwnProperty(h)&&(a[h]=n[h]);var c=i.parse(o,!1);if(c.query){var p,l=u.parse(c.query);for(var h in l){var f=l[h];if("object"==typeof f)for(p in f)a[h+"["+p+"]"]=f[p];else a[h]=f}}s=this._getSignature(r,o,this._normaliseRequestParams(a),e)}var _=this._sortRequestParams(this._makeArrayOfArgumentsHash(a));return _[_.length]=["oauth_signature",s],_},e.OAuth.prototype._performSecureRequest=function(t,e,r,o,n,s,a,c){var p=this._prepareParameters(t,e,r,o,n);a||(a="application/x-www-form-urlencoded");var l=i.parse(o,!1);"http:"!=l.protocol||l.port||(l.port=80),"https:"!=l.protocol||l.port||(l.port=443);var f,_,d={},A=this._buildAuthorizationHeaders(p);for(var g in this._isEcho?d["X-Verify-Credentials-Authorization"]=A:d.Authorization=A,d.Host=l.host,this._headers)this._headers.hasOwnProperty(g)&&(d[g]=this._headers[g]);for(var g in n)this._isParameterNameAnOAuthParameter(g)&&delete n[g];"POST"!=r&&"PUT"!=r||null!=s||null==n||(s=u.stringify(n).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")),s?Buffer.isBuffer(s)?d["Content-length"]=s.length:d["Content-length"]=Buffer.byteLength(s):d["Content-length"]=0,d["Content-Type"]=a,l.pathname&&""!=l.pathname||(l.pathname="/"),f=l.query?l.pathname+"?"+l.query:l.pathname,_="https:"==l.protocol?this._createClient(l.port,l.hostname,r,f,d,!0):this._createClient(l.port,l.hostname,r,f,d);var m=this._clientOptions;if(!c)return"POST"!=r&&"PUT"!=r||null==s||""==s||_.write(s),_;var y="",O=this,v=h.isAnEarlyCloseHost(l.hostname),S=!1,C=function(o){S||(S=!0,o.statusCode>=200&&o.statusCode<=299?c(null,y,o):(301==o.statusCode||302==o.statusCode)&&m.followRedirects&&o.headers&&o.headers.location?O._performSecureRequest(t,e,r,o.headers.location,n,s,a,c):c({statusCode:o.statusCode,data:y},y,o))};_.on("response",(function(t){t.setEncoding("utf8"),t.on("data",(function(t){y+=t})),t.on("end",(function(){C(t)})),t.on("close",(function(){v&&C(t)}))})),_.on("error",(function(t){S||(S=!0,c(t))})),"POST"!=r&&"PUT"!=r||null==s||""==s||_.write(s),_.end()},e.OAuth.prototype.setClientOptions=function(t){var e,r={},o=Object.prototype.hasOwnProperty;for(e in this._defaultClientOptions)o.call(t,e)?r[e]=t[e]:r[e]=this._defaultClientOptions[e];this._clientOptions=r},e.OAuth.prototype.getOAuthAccessToken=function(t,e,r,o){var n={};"function"==typeof r?o=r:n.oauth_verifier=r,this._performSecureRequest(t,e,this._clientOptions.accessTokenHttpMethod,this._accessUrl,n,null,null,(function(t,e,r){if(t)o(t);else{var n=u.parse(e),s=n.oauth_token;delete n.oauth_token;var a=n.oauth_token_secret;delete n.oauth_token_secret,o(null,s,a,n)}}))},e.OAuth.prototype.getProtectedResource=function(t,e,r,o,n){this._performSecureRequest(r,o,e,t,null,"",null,n)},e.OAuth.prototype.delete=function(t,e,r,o){return this._performSecureRequest(e,r,"DELETE",t,null,"",null,o)},e.OAuth.prototype.get=function(t,e,r,o){return this._performSecureRequest(e,r,"GET",t,null,"",null,o)},e.OAuth.prototype._putOrPost=function(t,e,r,o,n,s,a){var i=null;return"function"==typeof s&&(a=s,s=null),"string"==typeof n||Buffer.isBuffer(n)||(s="application/x-www-form-urlencoded",i=n,n=null),this._performSecureRequest(r,o,t,e,i,n,s,a)},e.OAuth.prototype.put=function(t,e,r,o,n,s){return this._putOrPost("PUT",t,e,r,o,n,s)},e.OAuth.prototype.post=function(t,e,r,o,n,s){return this._putOrPost("POST",t,e,r,o,n,s)},e.OAuth.prototype.getOAuthRequestToken=function(t,e){"function"==typeof t&&(e=t,t={}),this._authorize_callback&&(t.oauth_callback=this._authorize_callback),this._performSecureRequest(null,null,this._clientOptions.requestTokenHttpMethod,this._requestUrl,t,null,null,(function(t,r,o){if(t)e(t);else{var n=u.parse(r),s=n.oauth_token,a=n.oauth_token_secret;delete n.oauth_token,delete n.oauth_token_secret,e(null,s,a,n)}}))},e.OAuth.prototype.signUrl=function(t,e,r,o){if(void 0===o)o="GET";for(var n=this._prepareParameters(e,r,o,t,{}),s=i.parse(t,!1),a="",u=0;u<n.length;u++)a+=n[u][0]+"="+this._encodeData(n[u][1])+"&";return a=a.substring(0,a.length-1),s.protocol+"//"+s.host+s.pathname+"?"+a},e.OAuth.prototype.authHeader=function(t,e,r,o){if(void 0===o)o="GET";var n=this._prepareParameters(e,r,o,t,{});return this._buildAuthorizationHeaders(n)}},611:function(t,e){t.exports.isAnEarlyCloseHost=function(t){return t&&t.match(".*google(apis)?.com$")}},614:function(t,e,r){const o=r(615),{config:n}=r(362);n(),t.exports.handler=async function(t,e){const r=JSON.parse(t.body),{email:n,naam:s,topic:a,message:i}=r,u=new o.OAuth(process.env.TRELLO_URL_REQUEST,process.env.TRELLO_URL_ACCESS,process.env.TRELLO_CLIENT_KEY,process.env.TRELLO_CLIENT_SECRET,"1.0A",null,"HMAC-SHA1"),h={};var c,p;return console.log(n,s,a,i),u.post(`https://api.trello.com/1/cards/?idList=5ecf9b6964bcc78b1945d4e9&name=Email%20${encodeURI(s)}&desc=Naam%3A%20${encodeURI(s)}%0AEmail%3A%20${encodeURI(n)}%0AReden%20van%20contact%3A%20${encodeURI(a)}%0A%0A---%0A%0A${encodeURI((c=i,p=40,c.length<=p?c:c.slice(0,p)+"..."))}`,process.env.TRELLO_OAUTH_TOKEN,process.env.TRELLO_OAUTH_SECRET,{},"application/json",(function(t,e,r){t&&console.error(t),h.data=e,console.log(e)})),console.log(h.data),{statusCode:200,body:JSON.stringify({msg:""+h.data})}}},615:function(t,e,r){e.OAuth=r(610).OAuth,e.OAuthEcho=r(610).OAuthEcho,e.OAuth2=r(617).OAuth2},616:function(t,e){var r="=";function o(t,e){var r=a(t);r.length>16&&(r=u(r,8*t.length));for(var o=Array(16),n=Array(16),s=0;s<16;s++)o[s]=909522486^r[s],n[s]=1549556828^r[s];var h=u(o.concat(a(e)),512+8*e.length);return i(u(n.concat(h),672))}function n(t){for(var e="",o=t.length,n=0;n<o;n+=3)for(var s=t.charCodeAt(n)<<16|(n+1<o?t.charCodeAt(n+1)<<8:0)|(n+2<o?t.charCodeAt(n+2):0),a=0;a<4;a++)8*n+6*a>8*t.length?e+=r:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>>6*(3-a)&63);return e}function s(t){for(var e,r,o="",n=-1;++n<t.length;)e=t.charCodeAt(n),r=n+1<t.length?t.charCodeAt(n+1):0,55296<=e&&e<=56319&&56320<=r&&r<=57343&&(e=65536+((1023&e)<<10)+(1023&r),n++),e<=127?o+=String.fromCharCode(e):e<=2047?o+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?o+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(o+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return o}function a(t){for(var e=Array(t.length>>2),r=0;r<e.length;r++)e[r]=0;for(r=0;r<8*t.length;r+=8)e[r>>5]|=(255&t.charCodeAt(r/8))<<24-r%32;return e}function i(t){for(var e="",r=0;r<32*t.length;r+=8)e+=String.fromCharCode(t[r>>5]>>>24-r%32&255);return e}function u(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var r=Array(80),o=1732584193,n=-271733879,s=-1732584194,a=271733878,i=-1009589776,u=0;u<t.length;u+=16){for(var f=o,_=n,d=s,A=a,g=i,m=0;m<80;m++){r[m]=m<16?t[u+m]:l(r[m-3]^r[m-8]^r[m-14]^r[m-16],1);var y=p(p(l(o,5),h(m,n,s,a)),p(p(i,r[m]),c(m)));i=a,a=s,s=l(n,30),n=o,o=y}o=p(o,f),n=p(n,_),s=p(s,d),a=p(a,A),i=p(i,g)}return Array(o,n,s,a,i)}function h(t,e,r,o){return t<20?e&r|~e&o:t<40?e^r^o:t<60?e&r|e&o|r&o:e^r^o}function c(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function p(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function l(t,e){return t<<e|t>>>32-e}e.HMACSHA1=function(t,e){return r=e,n(o(s(t),s(r)));var r}},617:function(t,e,r){var o=r(25),n=(r(4),r(26)),s=r(20),a=r(6),i=r(611);e.OAuth2=function(t,e,r,o,n,s){this._clientId=t,this._clientSecret=e,this._baseSite=r,this._authorizeUrl=o||"/oauth/authorize",this._accessTokenUrl=n||"/oauth/access_token",this._accessTokenName="access_token",this._authMethod="Bearer",this._customHeaders=s||{},this._useAuthorizationHeaderForGET=!1,this._agent=void 0},e.OAuth2.prototype.setAgent=function(t){this._agent=t},e.OAuth2.prototype.setAccessTokenName=function(t){this._accessTokenName=t},e.OAuth2.prototype.setAuthMethod=function(t){this._authMethod=t},e.OAuth2.prototype.useAuthorizationHeaderforGET=function(t){this._useAuthorizationHeaderForGET=t},e.OAuth2.prototype._getAccessTokenUrl=function(){return this._baseSite+this._accessTokenUrl},e.OAuth2.prototype.buildAuthHeader=function(t){return this._authMethod+" "+t},e.OAuth2.prototype._chooseHttpLibrary=function(t){var e=n;return"https:"!=t.protocol&&(e=s),e},e.OAuth2.prototype._request=function(t,e,r,n,s,i){var u=a.parse(e,!0);"https:"!=u.protocol||u.port||(u.port=443);var h=this._chooseHttpLibrary(u),c={};for(var p in this._customHeaders)c[p]=this._customHeaders[p];if(r)for(var p in r)c[p]=r[p];c.Host=u.host,c["User-Agent"]||(c["User-Agent"]="Node-oauth"),n?Buffer.isBuffer(n)?c["Content-Length"]=n.length:c["Content-Length"]=Buffer.byteLength(n):c["Content-length"]=0,s&&!("Authorization"in c)&&(u.query||(u.query={}),u.query[this._accessTokenName]=s);var l=o.stringify(u.query);l&&(l="?"+l);var f={host:u.hostname,port:u.port,path:u.pathname+l,method:t,headers:c};this._executeRequest(h,f,n,i)},e.OAuth2.prototype._executeRequest=function(t,e,r,o){var n=i.isAnEarlyCloseHost(e.host),s=!1;function a(t,e){s||(s=!0,t.statusCode>=200&&t.statusCode<=299||301==t.statusCode||302==t.statusCode?o(null,e,t):o({statusCode:t.statusCode,data:e}))}var u="";this._agent&&(e.agent=this._agent);var h=t.request(e);h.on("response",(function(t){t.on("data",(function(t){u+=t})),t.on("close",(function(e){n&&a(t,u)})),t.addListener("end",(function(){a(t,u)}))})),h.on("error",(function(t){s=!0,o(t)})),"POST"!=e.method&&"PUT"!=e.method||!r||h.write(r),h.end()},e.OAuth2.prototype.getAuthorizeUrl=function(t){return(t=t||{}).client_id=this._clientId,this._baseSite+this._authorizeUrl+"?"+o.stringify(t)},e.OAuth2.prototype.getOAuthAccessToken=function(t,e,r){(e=e||{}).client_id=this._clientId,e.client_secret=this._clientSecret,e["refresh_token"===e.grant_type?"refresh_token":"code"]=t;var n=o.stringify(e);this._request("POST",this._getAccessTokenUrl(),{"Content-Type":"application/x-www-form-urlencoded"},n,null,(function(t,e,n){if(t)r(t);else{var s;try{s=JSON.parse(e)}catch(t){s=o.parse(e)}var a=s.access_token,i=s.refresh_token;delete s.refresh_token,r(null,a,i,s)}}))},e.OAuth2.prototype.getProtectedResource=function(t,e,r){this._request("GET",t,{},"",e,r)},e.OAuth2.prototype.get=function(t,e,r){if(this._useAuthorizationHeaderForGET){var o={Authorization:this.buildAuthHeader(e)};e=null}else o={};this._request("GET",t,o,"",e,r)}}}));